<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>automat.core documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><link rel="stylesheet" type="text/css" href="https://storage.googleapis.com/app.klipse.tech/css/codemirror.css" /><div style="visibility: hidden;"><div class="klipse" data-external-libs="https://raw.githubusercontent.com/viebel/automat/master/src/">(ns my.automat
                                                                (:require [automat.core :as a]))</div></div><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Automat</span> <span class="project-version">0.2.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>automat</span></div></div></li><li class="depth-2 branch current"><a href="automat.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2"><a href="automat.viz.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>viz</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="automat.core.html#var-.24"><div class="inner"><span>$</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-*"><div class="inner"><span>*</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-.2B"><div class="inner"><span>+</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-.3F"><div class="inner"><span>?</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-advance"><div class="inner"><span>advance</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-advance-stream"><div class="inner"><span>advance-stream</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-and"><div class="inner"><span>and</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-any"><div class="inner"><span>any</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-compile"><div class="inner"><span>compile</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-complement"><div class="inner"><span>complement</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-difference"><div class="inner"><span>difference</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-find"><div class="inner"><span>find</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-greedy-find"><div class="inner"><span>greedy-find</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-interpose-.24"><div class="inner"><span>interpose-$</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-is-identical.3F"><div class="inner"><span>is-identical?</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-matching-inputs"><div class="inner"><span>matching-inputs</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-none"><div class="inner"><span>none</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-not"><div class="inner"><span>not</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-or"><div class="inner"><span>or</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-precompile"><div class="inner"><span>precompile</span></div></a></li><li class="depth-1"><a href="automat.core.html#var-range"><div class="inner"><span>range</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">automat.core</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-.24"><h3>$</h3><div class="usage"><code>($ tag)</code></div><div class="doc"><div class="markdown"><p>Defines a state tag, which can be correlated to a reducer function using <code>compile</code>.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L19">view source</a></div></div><div class="public anchor" id="var-*"><h3>*</h3><div class="usage"><code>(* &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts zero or more of the given automata.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L46">view source</a></div></div><div class="public anchor" id="var-.2B"><h3>+</h3><div class="usage"><code>(+ &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts one or more of the given automaton.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L40">view source</a></div></div><div class="public anchor" id="var-.3F"><h3>?</h3><div class="usage"><code>(? &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts zero or one of the given automaton.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L33">view source</a></div></div><div class="public anchor" id="var-advance"><h3>advance</h3><div class="usage"><code>(advance fsm state input)</code><code>(advance fsm state input reject-value)</code></div><div class="doc"><div class="markdown"><p>Advances a single position in the automaton. Takes a compiled <code>fsm</code>, a <code>state</code> which is either an initial reduce  value or a CompiledAutomatonState previously returned by <code>advance</code>, and an input.</p>
<p>If a <code>reject-value</code> is specified, it will be returned if an invalid input is given. Otherwise an IllegalArgumentException is thrown.</p>
<pre><code class="klipse">  (def auto (a/compile [1 2 3]))
  (a/advance auto nil 1)
</code></pre>
<pre><code class="klipse">  (a/advance auto nil 19)
</code></pre>
<pre><code class="klipse">  (a/advance auto nil 19 :error)
</code></pre>
<pre><code class="klipse">(def adv (partial a/advance auto))
(-&gt; nil (adv 1) (adv 2) (adv 3))
</code></pre></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L128">view source</a></div></div><div class="public anchor" id="var-advance-stream"><h3>advance-stream</h3><div class="usage"><code>(advance-stream fsm state stream reject-value)</code></div><div class="doc"><div class="markdown"><p>Advances through the the stream, stopping if the stream is accepted or rejected. If the input state is <code>accepted?</code>, proceeds anyway. If rejected, <code>reject-value</code> is returned in lieu of the new state.</p>
<p>If an input state is already accepted and <code>reject-value</code> is returned, this means that inputs beyond the accepted sub-sequence have been consumed. As such, be careful when using impure functions and input sources.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L93">view source</a></div></div><div class="public anchor" id="var-and"><h3>and</h3><div class="usage"><code>(and &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts the intersection the given automata.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L203">view source</a></div></div><div class="public anchor" id="var-any"><h3>any</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts any single input value.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L238">view source</a></div></div><div class="public anchor" id="var-compile"><h3>compile</h3><div class="usage"><code>(compile fsm)</code><code>(compile fsm {:keys [backend action-comparator], :as options})</code></div><div class="doc"><div class="markdown"><p>Compiles the fsm into something that can be used with <code>find</code>, <code>advance-stream</code>, <code>greedy-find</code>, and <code>advance</code>. Optionally takes an option map, which may contain:</p>
<p><code>reducers</code> - a map or function of actions defined via <code>$</code> onto reducer functions which take two arguments, the current reduction value and the input.</p>
<p><code>signal</code> - a function that takes an input and returns the signal that will be used to advance the automaton. The input passed into reducer functions will not be affected by this.</p>
<p><code>action-comparator</code> - an optional comparator function used to sort actions. The default is <code>compare</code>.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L165">view source</a></div></div><div class="public anchor" id="var-complement"><h3>complement</h3><div class="usage"><code>(complement &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns the complement of the given automaton.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L220">view source</a></div></div><div class="public anchor" id="var-difference"><h3>difference</h3><div class="usage"><code>(difference &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts the disjoint of the first automaton and the subsequent automata.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L211">view source</a></div></div><div class="public anchor" id="var-find"><h3>find</h3><div class="usage"><code>(find fsm state stream)</code></div><div class="doc"><div class="markdown"><p>Searches for a accepted sub-sequence within the stream. If an input sequence is rejected, begins again at the automatonâ€™s start state. If the input state is <code>accepted?</code>, returns immediately.</p>
<p>If the returned state has <code>accepted?</code> set to true, the matching sub-sequence is from <code>start-index</code> to <code>stream-index</code>. Since no inputs past the match are consumed, this can be safely used with impure functions and input sources.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L84">view source</a></div></div><div class="public anchor" id="var-greedy-find"><h3>greedy-find</h3><div class="usage"><code>(greedy-find fsm state stream)</code></div><div class="doc"><div class="markdown"><p>Greedily find the largest possible accepted sub-sequence. Will only return an <code>accepted?</code> state once subsequent inputs have been rejected. Since this always consumes more inputs than the accepted sub-sequence, be careful when using impure functions or input sources.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L102">view source</a></div></div><div class="public anchor" id="var-interpose-.24"><h3>interpose-$</h3><div class="usage"><code>(interpose-$ tag fsm)</code></div><div class="doc"><div class="markdown"><p>Applies a state tag to all states within the given automaton.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L25">view source</a></div></div><div class="public anchor" id="var-is-identical.3F"><h3>is-identical?</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L17">view source</a></div></div><div class="public anchor" id="var-matching-inputs"><h3>matching-inputs</h3><div class="usage"><code>(matching-inputs fsm)</code></div><div class="doc"><div class="markdown"><p>Returns a lazy sequence of input sequences which the automaton will match.</p>
<pre><code class="klipse">  (take 10 (matching-inputs [1 2 3]))
</code></pre></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L75">view source</a></div></div><div class="public anchor" id="var-none"><h3>none</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns an automaton that immediately accepts.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L241">view source</a></div></div><div class="public anchor" id="var-not"><h3>not</h3><div class="usage"><code>(not &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns the complement of any zero or one-transition automata. Equivalent to the character negation <code>^</code> operator in regular expressions.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L227">view source</a></div></div><div class="public anchor" id="var-or"><h3>or</h3><div class="usage"><code>(or &amp; args)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton that accepts the union of the given automata.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L195">view source</a></div></div><div class="public anchor" id="var-precompile"><h3>precompile</h3><div class="usage"><code>(precompile fsm)</code></div><div class="doc"><div class="markdown"><p>Takes an fsm, and returns a data structure where states are represented by numbers, and the provided keys are :accept, :state-&gt;input-&gt;state, and :state-&gt;input-&gt;actions. The start state will always be <code>0</code>.</p></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/compiler/core.cljc#L86">view source</a></div></div><div class="public anchor" id="var-range"><h3>range</h3><div class="usage"><code>(range lower upper)</code></div><div class="doc"><div class="markdown"><p>Returns an automaton which matches any input within the inclusive range of [upper, lower].</p>
<pre><code class="klipse">  (def r10-19 (a/compile (a/range 10 19)))
  (a/advance r10-19 nil 11)
</code></pre>
<pre><code class="klipse">  (a/advance r10-19 nil 121 :error)
</code></pre></div></div><div class="src-link"><a href="https://github.com/ztellman/automat/blob/master/src/automat/core.cljc#L53">view source</a></div></div></div><script>window.klipse_settings = {
    selector: '.klipse',
    codemirror_options_in: {
    lineWrapping: true,
    autoCloseBrackets: true
    },
    codemirror_options_out: {
    lineWrapping: true
    }
    };</script><script src="https://storage.googleapis.com/app.klipse.tech/plugin/js/klipse_plugin.js"></script></body></html>